<!DOCTYPE html>
<html lang="en">
    <!-- Header Section -->
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Admin Dashboard - TastyBites</title>
        <link rel="stylesheet" href="style.css" />
        <link
            href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap"
            rel="stylesheet"
        />
        <link
            href="https://fonts.googleapis.com/icon?family=Material+Icons"
            rel="stylesheet"
        />
    </head>
    <body style="background-color: #f4f7f6">
        <!-- Navigation Section -->
        <nav
            class="admin-nav"
            style="background: #333; color: white; padding: 10px 20px"
        >
            <div
                class="logo"
                style="color: white; font-size: 1.5rem; font-weight: 800"
            >
                Tasty<span>Bites</span>
            </div>
            <span id="admin-name" style="font-weight: 600; font-size: 1.2rem"
                >Admin Panel</span
            >
            <div class="nav-actions" style="display: flex; gap: 15px">
                <button
                    class="admin-icon-btn"
                    onclick="window.location.href='index.html'"
                    title="Home"
                >
                    <span class="material-icons">home</span>
                </button>
                <button
                    class="admin-icon-btn"
                    onclick="logoutAdmin()"
                    title="Logout"
                >
                    <span class="material-icons">logout</span>
                </button>
            </div>
        </nav>
        <div
            id="admin-login-modal"
            class="modal active"
            style="background: #333"
        >
            <div
                class="modal-content"
                style="max-width: 350px; text-align: center"
            >
                <h2 style="margin-bottom: 20px; color: #333">Admin Access</h2>
                <form onsubmit="handleAdminLogin(event)" class="auth-form">
                    <input
                        type="email"
                        id="admin-email"
                        placeholder="admin@tastybites.com"
                        value="admin@tastybites.com"
                        required
                    />
                    <input
                        type="password"
                        id="admin-pass"
                        placeholder="Password (admin123)"
                        value="admin123"
                        required
                    />
                    <button type="submit" class="cta-button">
                        Enter Dashboard
                    </button>
                </form>
            </div>
        </div>

        <div
            class="admin-container"
            id="admin-dashboard"
            style="display: none; display: flex; min-height: 100vh"
        >
            <!-- Sidebar Navigation -->
            <aside
                class="admin-sidebar"
                style="
                    width: 250px;
                    background: #fff;
                    border-right: 1px solid #ddd;
                    display: flex;
                    flex-direction: column;
                "
            >
                <div
                    class="sidebar-header"
                    style="padding: 20px; border-bottom: 1px solid #eee"
                >
                    <h3 style="margin: 0; color: var(--primary)">Dashboard</h3>
                </div>
                <ul
                    class="sidebar-menu"
                    style="list-style: none; padding: 20px 0"
                >
                    <li
                        onclick="switchAdminSection('orders')"
                        class="active"
                        style="
                            padding: 15px 20px;
                            cursor: pointer;
                            transition: 0.3s;
                            font-weight: 500;
                            color: #555;
                            display: flex;
                            align-items: center;
                            gap: 10px;
                        "
                    >
                        <span class="material-icons">shopping_bag</span> Orders
                    </li>
                    <li
                        onclick="switchAdminSection('customers')"
                        style="
                            padding: 15px 20px;
                            cursor: pointer;
                            transition: 0.3s;
                            font-weight: 500;
                            color: #555;
                            display: flex;
                            align-items: center;
                            gap: 10px;
                        "
                    >
                        <span class="material-icons">people</span> Customers
                    </li>
                    <li
                        onclick="switchAdminSection('products')"
                        style="
                            padding: 15px 20px;
                            cursor: pointer;
                            transition: 0.3s;
                            font-weight: 500;
                            color: #555;
                            display: flex;
                            align-items: center;
                            gap: 10px;
                        "
                    >
                        <span class="material-icons">restaurant_menu</span>
                        Products
                    </li>
                </ul>
            </aside>

            <!-- Dashboard Content -->
            <main
                class="admin-main"
                style="
                    flex: 1;
                    padding: 40px;
                    background: #f4f7f6;
                    overflow-y: auto;
                "
            >
                <!-- Order Management Section -->
                <section id="section-orders" class="admin-section-content">
                    <h2 style="margin-bottom: 20px">Order Management</h2>
                    <div class="admin-stats-grid">
                        <div class="stat-card">
                            <div
                                class="stat-icon"
                                style="background: #e0f7fa; color: #00bcd4"
                            >
                                <span class="material-icons">shopping_bag</span>
                            </div>
                            <div>
                                <h3>Total Orders</h3>
                                <p id="total-orders">0</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div
                                class="stat-icon"
                                style="background: #e8f5e9; color: #4caf50"
                            >
                                <span class="material-icons">attach_money</span>
                            </div>
                            <div>
                                <h3>Total Revenue</h3>
                                <p id="total-revenue">₹0</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div
                                class="stat-icon"
                                style="background: #fff3e0; color: #ff9800"
                            >
                                <span class="material-icons">pending</span>
                            </div>
                            <div>
                                <h3>Pending</h3>
                                <p id="pending-orders">0</p>
                            </div>
                        </div>
                    </div>

                    <div class="admin-table-container">
                        <div
                            style="
                                display: flex;
                                justify-content: space-between;
                                align-items: center;
                                margin-bottom: 20px;
                            "
                        >
                            <h3>Recent Orders</h3>
                            <button
                                onclick="loadOrdersSection()"
                                style="
                                    cursor: pointer;
                                    border: none;
                                    background: none;
                                    color: var(--primary);
                                    font-weight: bold;
                                "
                            >
                                <span
                                    class="material-icons"
                                    style="vertical-align: middle"
                                    >refresh</span
                                >
                                Refresh
                            </button>
                        </div>
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>Order ID</th>
                                    <th>Customer</th>
                                    <th>Items</th>
                                    <th>Total</th>
                                    <th>Date</th>
                                    <th>Status</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody id="admin-orders-body"></tbody>
                        </table>
                    </div>
                </section>

                <!-- Customer Data Section -->
                <section
                    id="section-customers"
                    class="admin-section-content"
                    style="display: none"
                >
                    <h2 style="margin-bottom: 20px">Customer Data</h2>
                    <div class="admin-table-container">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Email</th>
                                    <th>Phone</th>
                                    <th>Total Orders</th>
                                    <th>Saved Addresses</th>
                                </tr>
                            </thead>
                            <tbody id="admin-customers-body"></tbody>
                        </table>
                    </div>
                </section>

                <!-- Product Management Section -->
                <section
                    id="section-products"
                    class="admin-section-content"
                    style="display: none"
                >
                    <div
                        style="
                            display: flex;
                            justify-content: space-between;
                            align-items: center;
                            margin-bottom: 20px;
                        "
                    >
                        <h2>Product Management</h2>
                        <button class="cta-button" onclick="openProductModal()">
                            + Add Product
                        </button>
                    </div>
                    <div class="admin-table-container">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>Image</th>
                                    <th>Name</th>
                                    <th>Category</th>
                                    <th>Price</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="admin-products-body"></tbody>
                        </table>
                    </div>
                </section>
            </main>
        </div>

        <!-- Product Modal -->
        <div id="product-modal-admin" class="modal">
            <div class="modal-content">
                <span class="close-modal" onclick="closeProductModalAdmin()"
                    >&times;</span
                >
                <h2 id="product-modal-title">Add Product</h2>
                <form id="product-form" onsubmit="handleProductSubmit(event)">
                    <input type="hidden" id="prod-id" />
                    <div class="form-group">
                        <label>Product Name</label>
                        <input type="text" id="prod-name" required />
                    </div>
                    <div class="form-group">
                        <label>Category</label>
                        <select
                            id="prod-category"
                            style="
                                width: 100%;
                                padding: 10px;
                                border: 1px solid #ddd;
                                border-radius: 5px;
                            "
                        >
                            <option value="burger">Burger</option>
                            <option value="pizza">Pizza</option>
                            <option value="biryani">Biryani</option>
                            <option value="meal">Meal</option>
                            <option value="fastfood">Fast Food</option>
                            <option value="sandwich">Sandwich</option>
                            <option value="snacks">Snacks</option>
                            <option value="beverages">Beverages</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Price (₹)</label>
                        <input type="number" id="prod-price" required />
                    </div>
                    <div class="form-group">
                        <label>Image URL</label>
                        <input
                            type="text"
                            id="prod-img-url"
                            placeholder="https://..."
                        />
                    </div>
                    <div class="form-group">
                        <label>Or Upload Image</label>
                        <input
                            type="file"
                            id="prod-img-file"
                            accept="image/*"
                        />
                    </div>
                    <button type="submit" class="cta-button full-width">
                        Save Product
                    </button>
                </form>
            </div>
        </div>

        <!-- Chat Modal -->
        <div id="chat-modal-placeholder"></div>

        <div id="toast-box"></div>
        <!-- Scripts -->
        <script src="script.js"></script>
    </body>
</html>
