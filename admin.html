<!DOCTYPE html>
<html lang="en">
    <!-- Header Section -->
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Admin Dashboard - TastyBites</title>
        <link rel="stylesheet" href="style.css" />
        <link
            href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap"
            rel="stylesheet"
        />
        <link
            href="https://fonts.googleapis.com/icon?family=Material+Icons"
            rel="stylesheet"
        />
        
        <link rel="icon" type="image/x-icon" href="./assets/favicon.ico" />

    </head>
    <body style="background-color: #f4f7f6">
        <!-- Navigation Section -->
        <nav
            class="admin-nav"
            style="background: #333; color: white; padding: 10px 20px"
        >
            <div
                class="logo"
                style="color: white; font-size: 1.5rem; font-weight: 800"
            >
                Tasty<span>Bites</span>
            </div>
            <span id="admin-name" style="font-weight: 600; font-size: 1.2rem"
                >Admin Panel</span
            >
            <div class="nav-actions" style="display: flex; gap: 15px">
                <button
                    class="admin-icon-btn"
                    onclick="window.location.href='index.html'"
                    title="Home"
                >
                    <span class="material-icons">home</span>
                </button>
                <button
                    class="admin-icon-btn"
                    onclick="logoutAdmin()"
                    title="Logout"
                >
                    <span class="material-icons">logout</span>
                </button>
            </div>
        </nav>
        <div
            id="admin-login-modal"
            class="modal active"
            style="background: #333"
        >
            <div
                class="modal-content"
                style="max-width: 350px; text-align: center"
            >
                <h2 style="margin-bottom: 20px; color: #333">Admin Access</h2>
                <form onsubmit="handleAdminLogin(event)" class="auth-form">
                    <input
                        type="email"
                        id="admin-email"
                        placeholder="admin@tastybites.com"
                        value="admin@tastybites.com"
                        required
                    />
                    <input
                        type="password"
                        id="admin-pass"
                        placeholder="Password (admin123)"
                        value="admin123"
                        required
                    />
                    <button type="submit" class="cta-button">
                        Enter Dashboard
                    </button>
                </form>
            </div>
        </div>

        <div
            class="admin-container"
            id="admin-dashboard"
            style="display: none; display: flex; min-height: 100vh"
        >
            <!-- Sidebar Navigation -->
            <aside
                class="admin-sidebar"
                style="
                    width: 250px;
                    background: #fff;
                    border-right: 1px solid #ddd;
                    display: flex;
                    flex-direction: column;
                "
            >
                <div
                    class="sidebar-header"
                    style="padding: 20px; border-bottom: 1px solid #eee"
                >
                    <h3 style="margin: 0; color: var(--primary)">Dashboard</h3>
                </div>
                <ul
                    class="sidebar-menu"
                    style="list-style: none; padding: 20px 0"
                >
                    <li
                        onclick="switchAdminSection('orders')"
                        class="active"
                        style="
                            padding: 15px 20px;
                            cursor: pointer;
                            transition: 0.3s;
                            font-weight: 500;
                            color: #555;
                            display: flex;
                            align-items: center;
                            gap: 10px;
                        "
                    >
                        <span class="material-icons">shopping_bag</span> Orders
                    </li>
                    <li
                        onclick="switchAdminSection('customers')"
                        style="
                            padding: 15px 20px;
                            cursor: pointer;
                            transition: 0.3s;
                            font-weight: 500;
                            color: #555;
                            display: flex;
                            align-items: center;
                            gap: 10px;
                        "
                    >
                        <span class="material-icons">people</span> Customers
                    </li>
                    <li
                        onclick="switchAdminSection('products')"
                        style="
                            padding: 15px 20px;
                            cursor: pointer;
                            transition: 0.3s;
                            font-weight: 500;
                            color: #555;
                            display: flex;
                            align-items: center;
                            gap: 10px;
                        "
                    >
                        <span class="material-icons">restaurant_menu</span>
                        Products
                    </li>
                    <li
                        onclick="switchAdminSection('settings')"
                        style="
                            padding: 15px 20px;
                            cursor: pointer;
                            transition: 0.3s;
                            font-weight: 500;
                            color: #555;
                            display: flex;
                            align-items: center;
                            gap: 10px;
                        "
                    >
                        <span class="material-icons">settings</span>
                        Settings
                    </li>
                    <li
                        onclick="switchAdminSection('categories')"
                        style="
                            padding: 15px 20px;
                            cursor: pointer;
                            transition: 0.3s;
                            font-weight: 500;
                            color: #555;
                            display: flex;
                            align-items: center;
                            gap: 10px;
                        "
                    >
                        <span class="material-icons">category</span>
                        Categories
                    </li>
                </ul>
            </aside>

            <!-- Dashboard Content -->
            <main
                class="admin-main"
                style="
                    flex: 1;
                    padding: 40px;
                    background: #f4f7f6;
                    overflow-y: auto;
                "
            >
                <!-- Order Management Section -->
                <section id="section-orders" class="admin-section-content">
                    <h2 style="margin-bottom: 20px">Order Management</h2>
                    <div class="admin-stats-grid">
                        <div class="stat-card">
                            <div
                                class="stat-icon"
                                style="background: #e0f7fa; color: #00bcd4"
                            >
                                <span class="material-icons">shopping_bag</span>
                            </div>
                            <div>
                                <h3>Total Orders</h3>
                                <p id="total-orders">0</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div
                                class="stat-icon"
                                style="background: #e8f5e9; color: #4caf50"
                            >
                                <span class="material-icons">attach_money</span>
                            </div>
                            <div>
                                <h3>Total Revenue</h3>
                                <p id="total-revenue">₹0</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div
                                class="stat-icon"
                                style="background: #fff3e0; color: #ff9800"
                            >
                                <span class="material-icons">pending</span>
                                    </option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Offer Value</label>
                                <input
                                    type="number"
                                    id="prod-offer-value"
                                    min="0"
                                    value="0"
                                />
                            </div>
                            <div
                                style="
                                    grid-column: 1 / -1;
                                    display: flex;
                                    gap: 10px;
                                "
                            >
                                <button
                                    type="submit"
                                    class="cta-button"
                                    style="padding: 10px 30px"
                                >
                                    Save Product
                                </button>
                                <button
                                    type="button"
                                    class="cta-button"
                                    onclick="resetProductForm()"
                                    style="background: #666; padding: 10px 30px"
                                >
                                    Cancel
                                </button>
                            </div>
                        </form>
                    </div>

                    <div class="admin-table-container">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>Image</th>
                                    <th>Name</th>
                                    <th>Category</th>
                                    <th>Price</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="admin-products-body"></tbody>
                        </table>
                    </div>
                </section>

                <!-- Settings Section -->
                <section
                    id="section-settings"
                    class="admin-section-content"
                    style="display: none"
                >
                    <h2 style="margin-bottom: 20px">Global Settings</h2>

                    <!-- Extra Charges -->
                    <div
                        class="settings-block"
                        style="
                            margin-bottom: 30px;
                            border: 1px solid #eee;
                            padding: 20px;
                            border-radius: 8px;
                        "
                    >
                        <h3>Extra Charges (GST, Delivery, etc.)</h3>
                        <div class="admin-table-container">
                            <table
                                class="admin-table"
                                style="margin-bottom: 10px"
                            >
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Type</th>
                                        <th>Value</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody id="settings-charges-body"></tbody>
                            </table>
                        </div>
                        <form
                            onsubmit="handleAddCharge(event)"
                            style="
                                display: grid;
                                grid-template-columns: 2fr 1fr 1fr auto;
                                gap: 10px;
                                align-items: end;
                            "
                        >
                            <div class="form-group" style="margin: 0">
                                <label>Name</label>
                                <input
                                    type="text"
                                    id="new-charge-name"
                                    required
                                    placeholder="e.g. Packaging Fee"
                                />
                            </div>
                            <div class="form-group" style="margin: 0">
                                <label>Type</label>
                                <select id="new-charge-type">
                                    <option value="percent">Percent (%)</option>
                                    <option value="flat">Flat (₹)</option>
                                </select>
                            </div>
                            <div class="form-group" style="margin: 0">
                                <label>Value</label>
                                <input
                                    type="number"
                                    id="new-charge-value"
                                    required
                                    min="0"
                                    step="0.01"
                                />
                            </div>
                            <button
                                type="submit"
                                class="cta-button"
                                style="padding: 10px"
                            >
                                Add
                            </button>
                        </form>
                    </div>

                    <!-- Global Offer -->
                    <div
                        class="settings-block"
                        style="
                            margin-bottom: 30px;
                            border: 1px solid #eee;
                            padding: 20px;
                            border-radius: 8px;
                        "
                    >
                        <h3>Global Offer (Site-wide Discount)</h3>
                        <form
                            onsubmit="handleGlobalOfferSave(event)"
                            style="
                                display: grid;
                                grid-template-columns: auto 2fr 1fr 1fr auto;
                                gap: 10px;
                                align-items: end;
                            "
                        >
                            <div
                                class="form-group"
                                style="
                                    margin: 0;
                                    display: flex;
                                    align-items: center;
                                    height: 100%;
                                "
                            >
                                <label style="margin: 0; cursor: pointer">
                                    <input
                                        type="checkbox"
                                        id="global-offer-active"
                                        style="width: auto; margin-right: 5px"
                                    />
                                    Active
                                </label>
                            </div>
                            <div class="form-group" style="margin: 0">
                                <label>Offer Name</label>
                                <input
                                    type="text"
                                    id="global-offer-name"
                                    placeholder="e.g. Diwali Sale"
                                />
                            </div>
                            <div class="form-group" style="margin: 0">
                                <label>Type</label>
                                <select id="global-offer-type">
                                    <option value="percent">Percent (%)</option>
                                    <option value="flat">Flat (₹)</option>
                                </select>
                            </div>
                            <div class="form-group" style="margin: 0">
                                <label>Value</label>
                                <input
                                    type="number"
                                    id="global-offer-value"
                                    min="0"
                                    step="0.01"
                                />
                            </div>
                            <button
                                type="submit"
                                class="cta-button"
                                style="padding: 10px"
                            >
                                Save
                            </button>
                        </form>
                    </div>

                    <!-- Promo Codes -->
                    <div
                        class="settings-block"
                        style="
                            border: 1px solid #eee;
                            padding: 20px;
                            border-radius: 8px;
                        "
                    >
                        <h3>Promo Codes</h3>
                        <div class="admin-table-container">
                            <table
                                class="admin-table"
                                style="margin-bottom: 10px"
                            >
                                <thead>
                                    <tr>
                                        <th>Code</th>
                                        <th>Type</th>
                                        <th>Value</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody id="settings-promos-body"></tbody>
                            </table>
                        </div>
                        <form
                            onsubmit="handleAddPromo(event)"
                            style="
                                display: grid;
                                grid-template-columns: 2fr 1fr 1fr auto;
                                gap: 10px;
                                align-items: end;
                            "
                        >
                            <div class="form-group" style="margin: 0">
                                <label>Code</label>
                                <input
                                    type="text"
                                    id="new-promo-code"
                                    required
                                    placeholder="e.g. SAVE10"
                                    style="text-transform: uppercase"
                                />
                            </div>
                            <div class="form-group" style="margin: 0">
                                <label>Type</label>
                                <select id="new-promo-type">
                                    <option value="percent">Percent (%)</option>
                                    <option value="flat">Flat (₹)</option>
                                </select>
                            </div>
                            <div class="form-group" style="margin: 0">
                                <label>Value</label>
                                <input
                                    type="number"
                                    id="new-promo-value"
                                    required
                                    min="0"
                                    step="0.01"
                                />
                            </div>
                            <button
                                type="submit"
                                class="cta-button"
                                style="padding: 10px"
                            >
                                Add
                            </button>
                        </form>
                    </div>
                </section>

                <!-- Categories Section -->
                <section
                    id="section-categories"
                    class="admin-section-content"
                    style="display: none"
                >
                    <h2 style="margin-bottom: 20px">Category Management</h2>
                    <div
                        class="admin-table-container"
                        style="margin-bottom: 30px"
                    >
                        <h3 style="margin-bottom: 15px">Add New Category</h3>
                        <form
                            onsubmit="handleAddCategory(event)"
                            style="display: flex; gap: 10px"
                        >
                            <input
                                type="text"
                                id="new-cat-name"
                                placeholder="Category Name"
                                required
                                style="flex: 1"
                            />
                            <button type="submit" class="cta-button">
                                Add
                            </button>
                        </form>
                    </div>
                    <div class="admin-table-container">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Name</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="admin-categories-body"></tbody>
                        </table>
                    </div>
                </section>
            </main>
        </div>

        <!-- Chat Modal -->
        <div id="chat-modal-placeholder"></div>

        <div id="toast-box"></div>
        <!-- Scripts -->
        <script src="script.js"></script>
    </body>
</html>
